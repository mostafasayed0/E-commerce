import{a as y}from"./chunk-XE76MWTC.js";import{a as A,b as f,c as N,d as R,f as V,g as k,h as q,j as B,l as D}from"./chunk-DQYFQM2W.js";import{g as w,h as T}from"./chunk-TJIOU3TD.js";import"./chunk-G5KA7DMQ.js";import{c as b,d as F}from"./chunk-7EKXOQVJ.js";import{Gb as l,Hb as _,Oa as r,Ob as E,Ub as C,Vb as h,_ as c,ba as S,eb as s,ib as x,mb as d,qb as o,rb as t,sb as u,xb as L,yb as v}from"./chunk-ND2MPBG4.js";function I(e,m){e&1&&(o(0,"div",9)(1,"p",10),l(2,"This Field Is Required"),t()())}function G(e,m){e&1&&(o(0,"div",9)(1,"p",10),l(2,"Enter Valid Email"),t()())}function M(e,m){if(e&1&&s(0,I,3,0,"div",9)(1,G,3,0),e&2){let i,n=v();d(0,(i=n.loginform.get("email"))!=null&&i.getError("required")?0:(i=n.loginform.get("email"))!=null&&i.getError("email")?1:-1)}}function P(e,m){e&1&&(o(0,"div",9)(1,"p",10),l(2,"This Field Is Required"),t()())}function j(e,m){e&1&&(o(0,"div",9)(1,"p",10),l(2,"Enter Valid Password"),t()())}function O(e,m){if(e&1&&s(0,P,3,0,"div",9)(1,j,3,0),e&2){let i,n=v();d(0,(i=n.loginform.get("password"))!=null&&i.getError("required")?0:(i=n.loginform.get("password"))!=null&&i.getError("pattern")?1:-1)}}function U(e,m){e&1&&u(0,"i",7)}var Z=(()=>{class e{constructor(){this.isLoading=!1,this._FormBuilder=c(B),this._AuthService=c(y),this._Router=c(w),this.loginform=this._FormBuilder.group({email:[null,[f.required,f.email]],password:[null,[f.required,f.pattern(/^\w{6,}[@#$]/)]]})}send(){this.isLoading=!0,this.loginform.valid?this.SubscripeValue=this._AuthService.SetLogin(this.loginform.value).subscribe({next:i=>{i.message=="success"&&setTimeout(()=>{localStorage.setItem("userToken",i.token),this._AuthService.saveUserData(),this._Router.navigate(["/home"])},1e3)},error:i=>{this.isLoading=!1}}):(this.loginform.markAllAsTouched(),this.isLoading=!1)}ngOnDestroy(){this.SubscripeValue?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=S({type:e,selectors:[["app-login"]],standalone:!0,features:[E],decls:21,vars:13,consts:[[1,"w-75","mx-auto"],[3,"ngSubmit","formGroup"],["for","email"],["formControlName","email","id","email","type","email",1,"form-control"],["for","password"],["formControlName","password","id","password","type","password",1,"form-control"],[1,"btn","btn-main","my-2"],[1,"fa","fa-spin","fa-spinner"],["routerLink","/forget-password",1,"link-info"],[1,"alert","alert-danger","w-50"],[1,"m-0"]],template:function(n,a){if(n&1&&(o(0,"section",0)(1,"form",1),L("ngSubmit",function(){return a.send()}),o(2,"div")(3,"label",2),l(4),C(5,"translate"),t(),u(6,"input",3),s(7,M,2,1),t(),o(8,"div")(9,"label",4),l(10),C(11,"translate"),t(),u(12,"input",5),s(13,O,2,1),t(),o(14,"button",6),l(15,"Login "),s(16,U,1,0,"i",7),t(),u(17,"br"),o(18,"a",8),l(19),C(20,"translate"),t()()()),n&2){let p,g;r(),x("formGroup",a.loginform),r(3),_(h(5,7,"login.Email")),r(3),d(7,(p=a.loginform.get("email"))!=null&&p.errors&&((p=a.loginform.get("email"))!=null&&p.touched)?7:-1),r(3),_(h(11,9,"login.Password")),r(3),d(13,(g=a.loginform.get("password"))!=null&&g.errors&&((g=a.loginform.get("password"))!=null&&g.touched)?13:-1),r(3),d(16,a.isLoading?16:-1),r(3),_(h(20,11,"login.Forgotten password"))}},dependencies:[D,V,A,N,R,k,q,T,F,b]})}}return e})();export{Z as LoginComponent};
