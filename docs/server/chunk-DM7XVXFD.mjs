import './polyfills.server.mjs';
import{a as M}from"./chunk-P67OCK2U.mjs";import"./chunk-QZLY374Y.mjs";import{c as D,d as G}from"./chunk-N4GPI5AJ.mjs";import{a as k,b as d,c as $,d as j,f as O,g as z,h as H,j as J,l as K}from"./chunk-X2ORDFNS.mjs";import{k as L}from"./chunk-2F7VE6JV.mjs";import{Gb as o,Hb as E,Ib as B,Oa as r,Ob as V,Rb as S,Ub as F,Vb as v,W as P,_ as N,eb as m,ib as h,mb as u,qb as l,rb as n,sb as C,xb as I,yb as w,yc as A}from"./chunk-AK2TQKSJ.mjs";import"./chunk-VVCT4QZE.mjs";var R=(e,a)=>({"is-valid":e,"is-invalid":a});function Q(e,a){e&1&&(l(0,"p",17),o(1,"This Field Is Required"),n())}function U(e,a){e&1&&(l(0,"p",17),o(1,"Name Should be more than or equal 3 chars"),n())}function W(e,a){e&1&&(l(0,"p",17),o(1,"Name Should be less than or equal 20 chars"),n())}function X(e,a){if(e&1&&(l(0,"div",5),m(1,Q,2,0,"p",17)(2,U,2,0)(3,W,2,0),n()),e&2){let i,s=w();r(),u(1,(i=s.registerForm.get("name"))!=null&&i.getError("required")?1:(i=s.registerForm.get("name"))!=null&&i.getError("minlength")?2:(i=s.registerForm.get("name"))!=null&&i.getError("maxlength")?3:-1)}}function Y(e,a){e&1&&(l(0,"p",17),o(1,"This Field Is Required"),n())}function Z(e,a){e&1&&(l(0,"p",17),o(1,"Enter Valid Email"),n())}function ee(e,a){if(e&1&&(l(0,"div",5),m(1,Y,2,0,"p",17)(2,Z,2,0),n()),e&2){let i,s=w();r(),u(1,(i=s.registerForm.get("email"))!=null&&i.getError("required")?1:(i=s.registerForm.get("email"))!=null&&i.getError("email")?2:-1)}}function te(e,a){e&1&&(l(0,"p",17),o(1,"This Field Is Required"),n())}function ie(e,a){e&1&&(l(0,"p",17),o(1,"must be at least 6 chars ,1 num , 1 spacialChar"),n())}function ne(e,a){if(e&1&&(l(0,"div",5),m(1,te,2,0,"p",17)(2,ie,2,0),n()),e&2){let i,s=w();r(),u(1,(i=s.registerForm.get("password"))!=null&&i.getError("required")?1:(i=s.registerForm.get("password"))!=null&&i.getError("pattern")?2:-1)}}function re(e,a){e&1&&(l(0,"div",5)(1,"p"),o(2,"Password confirmation is incorrect"),n()())}function le(e,a){e&1&&(l(0,"p",17),o(1,"This Filed Is Required"),n())}function oe(e,a){e&1&&(l(0,"p",17),o(1,"Enter Valid phone"),n())}function ae(e,a){if(e&1&&(l(0,"div",5),m(1,le,2,0,"p",17)(2,oe,2,0),n()),e&2){let i,s=w();r(),u(1,(i=s.registerForm.get("phone"))!=null&&i.getError("required")?1:(i=s.registerForm.get("phone"))!=null&&i.getError("pattern")?2:-1)}}function se(e,a){e&1&&C(0,"i",15)}function me(e,a){e&1&&(l(0,"h3",16),o(1,"Success"),n())}var ve=(()=>{class e{constructor(){this._AuthService=P(M),this._FormBuilder=P(J),this._Router=P(L),this.isLoading=!1,this.messagesucsses=!1,this.registerForm=this._FormBuilder.group({name:[null,[d.required,d.minLength(3),d.maxLength(20)]],email:[null,[d.required,d.email]],password:[null,[d.required,d.pattern(/^\w{6,}[@#$]/)]],rePassword:[null],phone:[null,[d.required,d.pattern(/^01[0125][0-9]{8}$/)]]},{validators:this.repassValidation})}confirem(){return this.registerForm.dirty?confirm("unSaved changes,Are you sure you want to leave?"):!0}repassValidation(i){return i.get("password")?.value===i.get("rePassword")?.value?null:{mismatch:!0}}registersubmit(){this.registerForm.valid?(this.isLoading=!0,this.SubscripeValue=this._AuthService.SetRegister(this.registerForm.value).subscribe({next:i=>{i.message=="success"&&(this.messagesucsses=!0,setTimeout(()=>{this._Router.navigate(["/login"])},1500)),this.isLoading=!1},error:i=>{this.isLoading=!1}})):this.registerForm.markAllAsTouched()}ngOnDestroy(){this.SubscripeValue?.unsubscribe()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275cmp=N({type:e,selectors:[["app-register"]],standalone:!0,features:[V],decls:37,vars:46,consts:[[1,"w-75","mx-auto"],[3,"ngSubmit","formGroup"],[1,"py-2"],["for","name",1,"py-1"],["formControlName","name","id","name","type","text",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","w-50","p-2","mt-1"],["for","email",1,"py-1"],["formControlName","email","id","email","type","email",1,"form-control",3,"ngClass"],["for","password",1,"py-1"],["formControlName","password","id","password","type","password",1,"form-control",3,"ngClass"],["for","rePassword",1,"py-1"],["formControlName","rePassword","id","rePassword","type","password",1,"form-control",3,"ngClass"],["for","phone",1,"py-1"],["formControlName","phone","id","phone","type","tel",1,"form-control",3,"ngClass"],[1,"btn-main","ms-auto","d-block"],[1,"fa","fa-spin","fa-spinner"],[1,"bg-success","p-3","text-center"],[1,"m-0"]],template:function(s,t){if(s&1&&(l(0,"section",0)(1,"form",1),I("ngSubmit",function(){return t.registersubmit()}),l(2,"div",2)(3,"label",3),o(4),F(5,"translate"),n(),C(6,"input",4),m(7,X,4,1,"div",5),n(),l(8,"div",2)(9,"label",6),o(10),F(11,"translate"),n(),C(12,"input",7),m(13,ee,3,1,"div",5),n(),l(14,"div",2)(15,"label",8),o(16),F(17,"translate"),n(),C(18,"input",9),m(19,ne,3,1,"div",5),n(),l(20,"div",2)(21,"label",10),o(22),F(23,"translate"),n(),C(24,"input",11),m(25,re,3,0,"div",5),n(),l(26,"div",2)(27,"label",12),o(28),F(29,"translate"),n(),C(30,"input",13),m(31,ae,3,1,"div",5),n(),l(32,"button",14),o(33),F(34,"translate"),m(35,se,1,0,"i",15),n()(),m(36,me,2,0,"h3",16),n()),s&2){let p,T,g,x,c,b,_,q,f,y;r(),h("formGroup",t.registerForm),r(3),E(v(5,19,"register.Name")),r(2),h("ngClass",S(31,R,!((p=t.registerForm.get("name"))!=null&&p.errors)&&((p=t.registerForm.get("name"))==null?null:p.touched),((p=t.registerForm.get("name"))==null?null:p.errors)&&((p=t.registerForm.get("name"))==null?null:p.touched))),r(),u(7,(T=t.registerForm.get("name"))!=null&&T.errors&&((T=t.registerForm.get("name"))!=null&&T.touched)?7:-1),r(3),E(v(11,21,"register.Email")),r(2),h("ngClass",S(34,R,!((g=t.registerForm.get("email"))!=null&&g.errors)&&((g=t.registerForm.get("email"))==null?null:g.touched),((g=t.registerForm.get("email"))==null?null:g.errors)&&((g=t.registerForm.get("email"))==null?null:g.touched))),r(),u(13,(x=t.registerForm.get("email"))!=null&&x.errors&&((x=t.registerForm.get("email"))!=null&&x.touched)?13:-1),r(3),E(v(17,23,"register.Password")),r(2),h("ngClass",S(37,R,!((c=t.registerForm.get("password"))!=null&&c.errors)&&((c=t.registerForm.get("password"))==null?null:c.touched),((c=t.registerForm.get("password"))==null?null:c.errors)&&((c=t.registerForm.get("password"))==null?null:c.touched))),r(),u(19,(b=t.registerForm.get("password"))!=null&&b.errors&&((b=t.registerForm.get("password"))!=null&&b.touched)?19:-1),r(3),E(v(23,25,"register.Confirm Password")),r(2),h("ngClass",S(40,R,!((_=t.registerForm.get("rePassword"))!=null&&_.errors)&&((_=t.registerForm.get("rePassword"))==null?null:_.touched),((_=t.registerForm.get("rePassword"))==null?null:_.errors)&&((_=t.registerForm.get("rePassword"))==null?null:_.touched))),r(),u(25,t.registerForm.getError("mismatch")&&((q=t.registerForm.get("rePassword"))!=null&&q.touched)?25:-1),r(3),E(v(29,27,"register.Phone")),r(2),h("ngClass",S(43,R,!((f=t.registerForm.get("phone"))!=null&&f.errors)&&((f=t.registerForm.get("phone"))==null?null:f.touched),((f=t.registerForm.get("phone"))==null?null:f.errors)&&((f=t.registerForm.get("phone"))==null?null:f.touched))),r(),u(31,(y=t.registerForm.get("phone"))!=null&&y.errors&&((y=t.registerForm.get("phone"))!=null&&y.touched)?31:-1),r(2),B("",v(34,29,"register.submit")," "),r(2),u(35,t.isLoading?35:-1),r(),u(36,t.messagesucsses?36:-1)}},dependencies:[K,O,k,$,j,z,H,A,G,D]})}}return e})();export{ve as RegisterComponent};
