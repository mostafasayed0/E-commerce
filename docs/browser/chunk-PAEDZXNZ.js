import{a as O,b as f,c as F,d as B,f as N,g as q,h as A,j as w,l as R}from"./chunk-DQYFQM2W.js";import{e as b}from"./chunk-TJIOU3TD.js";import{a as k}from"./chunk-GIJGAEM3.js";import{c as E,d as T}from"./chunk-7EKXOQVJ.js";import{Gb as l,Hb as m,Oa as r,Ob as y,Ub as d,Vb as s,_ as C,ba as x,eb as u,ib as I,mb as c,qb as n,rb as i,sb as v,xb as S,yb as g}from"./chunk-ND2MPBG4.js";function D(t,_){t&1&&(n(0,"div",11)(1,"p",12),l(2,"This Field Is Required"),i()())}function P(t,_){if(t&1&&u(0,D,3,0,"div",11),t&2){let e,o=g();c(0,(e=o.userInformation.get("details"))!=null&&e.getError("required")?0:-1)}}function G(t,_){t&1&&(n(0,"div",11)(1,"p",12),l(2,"This Field Is Required"),i()())}function M(t,_){t&1&&(n(0,"div",11)(1,"p",12),l(2,"This Field Is invalid"),i()())}function V(t,_){if(t&1&&u(0,G,3,0,"div",11)(1,M,3,0),t&2){let e,o=g();c(0,(e=o.userInformation.get("phone"))!=null&&e.getError("required")?0:(e=o.userInformation.get("phone"))!=null&&e.getError("pattern")?1:-1)}}var W=(()=>{class t{constructor(){this._FormBuilder=C(w),this._ActivatedRoute=C(b),this._PaymentService=C(k),this.CartId="",this.userInformation=this._FormBuilder.group({details:[null,f.required],phone:[null,[f.required,f.pattern(/^01[0125][0-9]{8}$/)]],city:[null,f.required]})}ngOnInit(){this._ActivatedRoute.params.subscribe({next:e=>{this.CartId=e.id},error:e=>{console.log(e)}})}CheckOut(){this.userInformation.valid?this._PaymentService.cheackout(this.CartId,this.userInformation.value).subscribe({next:e=>{console.log(e),e.status==="success"&&window.open(e.session.url,"_self")},error:e=>{console.log(e)}}):this.userInformation.markAllAsTouched()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=x({type:t,selectors:[["app-orders"]],standalone:!0,features:[y],decls:25,vars:18,consts:[[1,"w-75","mx-auto"],[1,"text-center","fw-bolder"],[3,"ngSubmit","formGroup"],[1,"form-group","my-1"],["for","details"],["formControlName","details","type","text","id","details","name","details",1,"form-control"],["for","phone"],["formControlName","phone","type","tel","id","phone","name","phone",1,"form-control"],["for","city"],["formControlName","city","type","text","id","city","name","city",1,"form-control"],["type","submit",1,"btn","btn-main","mt-2"],[1,"alert","alert-danger","w-50"],[1,"m-0"]],template:function(o,a){if(o&1&&(n(0,"section",0)(1,"h2",1),l(2),d(3,"translate"),i(),n(4,"form",2),S("ngSubmit",function(){return a.CheckOut()}),n(5,"div",3)(6,"label",4),l(7),d(8,"translate"),i(),v(9,"input",5),u(10,P,1,1),i(),n(11,"div",3)(12,"label",6),l(13),d(14,"translate"),i(),v(15,"input",7),u(16,V,2,1),i(),n(17,"div",3)(18,"label",8),l(19),d(20,"translate"),i(),v(21,"input",9),i(),n(22,"button",10),l(23),d(24,"translate"),i()()()),o&2){let p,h;r(2),m(s(3,8,"orders.Shipping Address")),r(2),I("formGroup",a.userInformation),r(3),m(s(8,10,"orders.Details")),r(3),c(10,(p=a.userInformation.get("details"))!=null&&p.errors&&((p=a.userInformation.get("details"))!=null&&p.touched)?10:-1),r(3),m(s(14,12,"orders.Phone")),r(3),c(16,(h=a.userInformation.get("phone"))!=null&&h.errors&&((h=a.userInformation.get("phone"))!=null&&h.touched)?16:-1),r(3),m(s(20,14,"orders.City")),r(4),m(s(24,16,"orders.Check Out"))}},dependencies:[R,N,O,F,B,q,A,T,E]})}}return t})();export{W as OrdersComponent};
